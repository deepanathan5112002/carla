# Optimized Configuration Based on Training Results

environment:
  town: "Town03"
  weather: "ClearNoon"
  num_npc_vehicles: 3  # Reduced for stability
  num_npc_pedestrians: 1
  
spawn:
  spawn_points: [0, 5, 10, 15, 20, 25, 30, 35, 40]  # More variety
  
sensors:
  camera:
    width: 640
    height: 480
    fov: 90
    x: 1.5
    z: 1.6
    
perception:
  model_path: "models/yolov8n_traffic.onnx"
  inference_fps: 6  # Reduced from 10 for performance
  confidence_threshold: 0.6  # Increased for reliability
  
rl:
  episodes: 2000
  max_steps: 2000
  
# Optimized reward structure based on training results
rewards:
  progress: 30.0          # ✅ INCREASE from 20.0 to 30.0
  lane_keeping: 0.02      # ✅ REDUCE from 0.05 to 0.02
  speed_compliance: 0.1   # ✅ REDUCE from 0.2 to 0.1
  stop_compliance: 1.0
  collision: -25.0        # ✅ SOFTER from -30
  off_road: -10.0  

# Curriculum learning stages (optional)
curriculum:
  stage1:  # Easy (0-50k steps)
    num_npc_vehicles: 0
    rewards:
      collision: -30.0
      off_road: -20.0
  
  stage2:  # Medium (50k-150k steps)
    num_npc_vehicles: 2
    rewards:
      collision: -40.0
      off_road: -25.0
  
  stage3:  # Hard (150k+ steps)
    num_npc_vehicles: 5
    rewards:
      collision: -50.0
      off_road: -30.0
